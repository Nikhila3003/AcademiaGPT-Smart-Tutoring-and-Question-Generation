page_content='**Prerequisites**  \n- [Python Fundamentals](https://datascience.quantecon.org/python_fundamentals/index.html) (Summer pre course)  \n**Outcomes**  \n- Understand the core pandas objects (`Series` and `DataFrame`)\n- Index into particular elements of a Series and DataFrame\n- Understand what `.dtype`/`.dtypes` do\n- Make basic visualizations  \n**Data**  \n- US regional unemployment data from Bureau of Labor Statistics  \n```python\n1+1\n```' metadata={'Header 1': 'Introduction'}page_content='- [Introduction](#Introduction)\n- [pandas](#pandas)\n- [Series](#Series)\n- [DataFrame](#DataFrame)\n- [Data Types](#Data-Types)\n- [Changing DataFrames](#Changing-DataFrames)\n- [Exercises](#Exercises)  \n```python' metadata={'Header 1': 'Introduction', 'Header 2': 'Outline'}page_content='#! pip install qeds\n```' metadata={'Header 1': 'Uncomment following line to install on colab'}page_content='This lecture begins the material on `pandas`.  \nTo start, we will import the pandas package and give it the alias\n`pd`, which is conventional practice.  \n```python\nimport pandas as pd' metadata={'Header 1': 'Uncomment following line to install on colab', 'Header 2': 'pandas'}page_content='%matplotlib inline' metadata={'Header 1': "Don't worry about this line for now!"}page_content='import qeds\nqeds.themes.mpl_style();\n```  \nSometimes, knowing which pandas version we are\nusing is helpful.  \nWe can check this by running the code below.  \n```python\npd.__version__\n```' metadata={'Header 1': 'activate plot theme'}page_content='The first main pandas type we will introduce is called Series.  \nA Series is a single column of data, with row labels for each\nobservation.  \npandas refers to the row labels as the *index* of the Series.  \n<img src="https://datascience.quantecon.org/assets/_static/intro_files/PandasSeries.png" alt="PandasSeries.png" style="">  \nBelow, we create a Series which contains the US unemployment rate every\nother year starting in 1995.  \n```python\nvalues = [5.6, 5.3, 4.3, 4.2, 5.8, 5.3, 4.6, 7.8, 9.1, 8., 5.7]\nyears = list(range(1995, 2017, 2))  \nunemp = pd.Series(data=values, index=years, name="Unemployment")\n```  \n```python\nunemp\n```  \nWe can look at the index and values in our Series.  \n```python\nunemp.index\n```  \n```python\nunemp.values\n```' metadata={'Header 1': 'activate plot theme', 'Header 2': 'Series'}page_content='Often, our data will have many rows, and we won’t want to display it all\nat once.  \nThe methods `.head` and `.tail` show rows at the beginning and end\nof our Series, respectively.  \n```python\nunemp.head()\n```  \n```python\nunemp.tail()\n```' metadata={'Header 1': 'activate plot theme', 'Header 2': 'Series', 'Header 3': 'What Can We Do with a Series object?', 'Header 4': '`.head` and `.tail`'}page_content='We can also plot data using the `.plot` method.  \n```python\nunemp.plot()\n```  \n>**Note**\n>\n>This is why we needed the `%matplotlib inline` — it tells the notebook\nto display figures inside the notebook itself. Also, pandas has much greater visualization functionality than this, but we will study that later on.' metadata={'Header 1': 'activate plot theme', 'Header 2': 'Series', 'Header 3': 'What Can We Do with a Series object?', 'Header 4': 'Basic Plotting'}page_content='Though it doesn’t make sense in this data set, we may want to find the\nunique values in a Series – which can be done with the `.unique` method.  \n```python\nunemp.unique()\n```' metadata={'Header 1': 'activate plot theme', 'Header 2': 'Series', 'Header 3': 'What Can We Do with a Series object?', 'Header 4': 'Unique Values'}page_content="Sometimes, we will want to select particular elements from a Series.  \nWe can do this using `.loc[index_items]`; where `index_items` is\nan item from the index, or a list of items in the index.  \nWe will see this more in-depth in a coming lecture, but for now, we\ndemonstrate how to select one or multiple elements of the Series.  \n```python\nunemp.loc[1995]\n```  \n```python\nunemp.loc[[1995, 2005, 2015]]\n```  \n<a id='exercise-0'></a>\n> See exercise 1 in the [*exercise list*](#exerciselist-0)" metadata={'Header 1': 'activate plot theme', 'Header 2': 'Series', 'Header 3': 'What Can We Do with a Series object?', 'Header 4': 'Indexing'}page_content='A DataFrame is how pandas stores one or more columns of data.  \nWe can think a DataFrames a multiple Series stacked side by side as\ncolumns.  \nThis is similar to a sheet in an Excel workbook or a table in a SQL\ndatabase.  \nIn addition to row labels (an index), DataFrames also have column labels.  \nWe refer to these column labels as the columns or column names.  \n<img src="https://datascience.quantecon.org/assets/_static/intro_files/PandasDataFrame.png" alt="PandasDataFrame.png" style="">  \nBelow, we create a DataFrame that contains the unemployment rate every\nother year by region of the US starting in 1995.  \n```python\ndata = {\n"NorthEast": [5.9,  5.6,  4.4,  3.8,  5.8,  4.9,  4.3,  7.1,  8.3,  7.9,  5.7],\n"MidWest": [4.5,  4.3,  3.6,  4. ,  5.7,  5.7,  4.9,  8.1,  8.7,  7.4,  5.1],\n"South": [5.3,  5.2,  4.2,  4. ,  5.7,  5.2,  4.3,  7.6,  9.1,  7.4,  5.5],\n"West": [6.6, 6., 5.2, 4.6, 6.5, 5.5, 4.5, 8.6, 10.7, 8.5, 6.1],\n"National": [5.6, 5.3, 4.3, 4.2, 5.8, 5.3, 4.6, 7.8, 9.1, 8., 5.7]\n}  \nunemp_region = pd.DataFrame(data, index=years)\nunemp_region\n```  \nWe can retrieve the index and the DataFrame values as we\ndid with a Series.  \n```python\nunemp_region.index\n```  \n```python\nunemp_region.values\n```' metadata={'Header 1': 'activate plot theme', 'Header 2': 'DataFrame'}page_content='Pretty much everything we can do with a Series.' metadata={'Header 1': 'activate plot theme', 'Header 2': 'DataFrame', 'Header 3': 'What Can We Do with a DataFrame?'}page_content='As with Series, we can use `.head` and `.tail` to show only the\nfirst or last `n` rows.  \n```python\nunemp_region.head()\n```  \n```python\nunemp_region.tail(3)\n```' metadata={'Header 1': 'activate plot theme', 'Header 2': 'DataFrame', 'Header 3': 'What Can We Do with a DataFrame?', 'Header 4': '`.head` and `.tail`'}page_content='We can generate plots with the `.plot` method.  \nNotice we now have a separate line for each column of data.  \n```python\nunemp_region.plot()\n```' metadata={'Header 1': 'activate plot theme', 'Header 2': 'DataFrame', 'Header 3': 'What Can We Do with a DataFrame?', 'Header 4': 'Plotting'}page_content='We can also do indexing using `.loc`.  \nThis is slightly more advanced than before because we can choose\nsubsets of both row and columns.  \n```python\nunemp_region.loc[1995, "NorthEast"]\n```  \n```python\nunemp_region.loc[[1995, 2005], "South"]\n```  \n```python\nunemp_region.loc[1995, ["NorthEast", "National"]]\n```  \n```python\nunemp_region.loc[:, "NorthEast"]\n```  \n```python' metadata={'Header 1': 'activate plot theme', 'Header 2': 'DataFrame', 'Header 3': 'What Can We Do with a DataFrame?', 'Header 4': 'Indexing'}page_content='unemp_region["MidWest"]\n```' metadata={'Header 1': '`[string]` with no `.loc` extracts a whole column'}page_content='pandas can do various computations and mathematical operations on\ncolumns.  \nLet’s take a look at a few of them.  \n```python' metadata={'Header 1': '`[string]` with no `.loc` extracts a whole column', 'Header 3': 'Computations with Columns'}page_content='unemp_region["West"] / 100\n```  \n```python' metadata={'Header 1': 'Divide by 100 to move from percent units to a rate'}page_content='unemp_region["West"].max()\n```  \n```python' metadata={'Header 1': 'Find maximum'}page_content='unemp_region["West"] - unemp_region["MidWest"]\n```  \n```python' metadata={'Header 1': "We'll see more of this throughout these materials"}page_content='unemp_region.West.corr(unemp_region["MidWest"])\n```  \n```python' metadata={'Header 1': 'Find correlation between two columns'}page_content="unemp_region.corr()\n```  \n<a id='exercise-1'></a>\n> See exercise 2 in the [*exercise list*](#exerciselist-0)" metadata={'Header 1': 'find correlation between all column pairs'}page_content='We asked you to run the commands `unemp.dtype` and\n`unemp_region.dtypes` and think about the outputs.  \nYou might have guessed that they return the type of the values inside\neach column.  \nOccasionally, you might need to investigate what types you have in your\nDataFrame when an operation isn’t behaving as expected.  \n```python\nunemp.dtype\n```  \n```python\nunemp_region.dtypes\n```  \nDataFrames will only distinguish between a few types.  \n- Booleans (`bool`)\n- Floating point numbers (`float64`)\n- Integers (`int64`)\n- Dates (`datetime`) — we will learn this soon\n- Categorical data (`categorical`)\n- Everything else, including strings (`object`)  \nIn the future, we will often refer to the type of data stored in a\ncolumn as its `dtype`.  \nLet’s look at an example for when having an incorrect `dtype` can\ncause problems.  \nSuppose that when we imported the data the `South` column was\ninterpreted as a string.  \n```python\nstr_unemp = unemp_region.copy()\nstr_unemp["South"] = str_unemp["South"].astype(str)\nstr_unemp.dtypes\n```  \nEverything *looks* ok…  \n```python\nstr_unemp.head()\n```  \nBut if we try to do something like compute the sum of all the columns,\nwe get unexpected results…  \n```python\nstr_unemp.sum()\n```  \nThis happened because `.sum` effectively calls `+` on all rows in\neach column.  \nRecall that when we apply `+` to two strings, the result is the two\nstrings concatenated.  \nSo, in this case, we saw that the entries in all rows of the South\ncolumn were stitched together into one long string.' metadata={'Header 1': 'find correlation between all column pairs', 'Header 2': 'Data Types'}page_content='We can change the data inside of a DataFrame in various ways:  \n- Adding new columns\n- Changing index labels or column names\n- Altering existing data (e.g. doing some arithmetic or making a column\nof strings lowercase)  \nSome of these “mutations” will be topics of future lectures, so we will\nonly briefly discuss a few of the things we can do below.' metadata={'Header 1': 'find correlation between all column pairs', 'Header 2': 'Changing DataFrames'}page_content='We can create new data by assigning values to a column similar to how\nwe assign values to a variable.  \nIn pandas, we create a new column of a DataFrame by writing:  \n```python\ndf["New Column Name"] = new_values\n```  \nBelow, we create an unweighted mean of the unemployment rate across the\nfour regions of the US — notice that this differs from the national\nunemployment rate.  \n```python\nunemp_region["UnweightedMean"] = (unemp_region["NorthEast"] +\nunemp_region["MidWest"] +\nunemp_region["South"] +\nunemp_region["West"])/4\n```  \n```python\nunemp_region.head()\n```' metadata={'Header 1': 'find correlation between all column pairs', 'Header 2': 'Changing DataFrames', 'Header 3': 'Creating New Columns'}page_content='Changing the values inside of a DataFrame should be done sparingly.  \nHowever, it can be done by assigning a value to a location in the\nDataFrame.  \n`df.loc[index, column] = value`  \n```python\nunemp_region.loc[1995, "UnweightedMean"] = 0.0\n```  \n```python\nunemp_region.head()\n```' metadata={'Header 1': 'find correlation between all column pairs', 'Header 2': 'Changing DataFrames', 'Header 3': 'Changing Values'}page_content='We can also rename the columns of a DataFrame, which is helpful because the names that sometimes come with datasets are\nunbearable…  \nFor example, the original name for the North East unemployment rate\ngiven by the Bureau of Labor Statistics was `LASRD910000000000003`…  \nThey have their reasons for using these names, but it can make our job\ndifficult since we often need to type it repeatedly.  \nWe can rename columns by passing a dictionary to the `rename` method.  \nThis dictionary contains the old names as the keys and new names as the\nvalues.  \nSee the example below.  \n```python\nnames = {"NorthEast": "NE",\n"MidWest": "MW",\n"South": "S",\n"West": "W"}\nunemp_region.rename(columns=names)\n```  \n```python\nunemp_region.head()\n```  \nWe renamed our columns… Why does the DataFrame still show the old\ncolumn names?  \nMany pandas operations create a copy of your data by\ndefault to protect your data and prevent you from overwriting\ninformation you meant to keep.  \nWe can make these operations permanent by either:  \n1. Assigning the output back to the variable name\n`df = df.rename(columns=rename_dict)`\n1. Looking into whether the method has an `inplace` option. For\nexample, `df.rename(columns=rename_dict, inplace=True)`  \nSetting `inplace=True` will sometimes make your code faster\n(e.g. if you have a very large DataFrame and you don’t want to copy all\nthe data), but that doesn’t always happen.  \nWe recommend using the first option until you get comfortable with\npandas because operations that don’t alter your data are (usually)\nsafer.  \n```python  \n```  \n```python\nnames = {"NorthEast": "NE",\n"MidWest": "MW",\n"South": "S",\n"West": "W"}  \nunemp_shortname = unemp_region.rename(columns=names)\nunemp_shortname.head()\n```' metadata={'Header 1': 'find correlation between all column pairs', 'Header 2': 'Changing DataFrames', 'Header 3': 'Renaming Columns'}page_content="<a id='exerciselist-0'></a>\n**Exercise 1**  \nFor each of the following exercises, we recommend reading the documentation\nfor help.  \n- Display only the first 2 elements of the Series using the `.head` method.\n- Using the `plot` method, make a bar plot.\n- Use `.loc` to select the lowest/highest unemployment rate shown in the Series.\n- Run the code `unemp.dtype` below. What does it give you? Where do you think it comes from?  \n([*back to text*](#exercise-0))  \n**Exercise 2**  \nFor each of the following, we recommend reading the documentation for help.  \n- Use introspection (or google-fu) to find a way to obtain a list with\nall of the column names in `unemp_region`.\n- Using the `plot` method, make a bar plot. What does it look like\nnow?\n- Use `.loc` to select the the unemployment data for the\n`NorthEast` and `West` for the years 1995, 2005, 2011, and 2015.\n- Run the code `unemp_region.dtypes` below. What does it give you?\nHow does this compare with `unemp.dtype`?  \n([*back to text*](#exercise-1))  \n```python  \n```  \n```python  \n```" metadata={'Header 1': 'find correlation between all column pairs', 'Header 2': 'Exercises'}