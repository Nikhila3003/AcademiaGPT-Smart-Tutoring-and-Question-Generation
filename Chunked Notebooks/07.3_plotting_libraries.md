page_content='**Prerequisites**  \n- Pandas\n- Matplotlib  \n**Outcomes**  \n- Be exposed to the large variety of plotting packages in Python\n- Understand the benefits of web based plotting libraries' metadata={'Header 1': 'Plotting Libraries'}page_content='There are *many* packages for plotting in Python  \n[Jake Vanderplas](http://vanderplas.com/) summarized the Python plotting landscape in a [2017 talk](https://www.youtube.com/watch?v=FytuB8nFHPQ)  \nThis graphic was one of his slides:  \n![python plotting landscape](https://phbs-css.s3-ap-southeast-1.amazonaws.com/python_plotting_landscape.png)' metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Plotting in Python'}page_content="Matplotlib started as one man's mission to make MATLAB quality plots in Python  \nTo date it is the most widely used plotting package in Python  \nIt excels at creating publication quality plots and is integrated in to many other libraries:  \n- [Pandas](https://pandas.pydata.org/pandas-docs/stable/user_guide/visualization.html) `.plot` method for Series and DataFrame uses matplotlib\n- [Seaborn](https://seaborn.pydata.org/) is built on matplotlib\n- [sklearn](https://scikit-learn.org/stable/visualizations.html) uses matplotlib for its built-in visualizaitons" metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Matplotlib'}page_content='Matplotlib is excellent at doing its job of creating print-worthy charts  \nHowever, since matplotlib was created (2003), many huge techonology advances have occured:  \n- Internet connected devices are widespread: smartphones, tablets, laptops\n- Websites have evolved into interactive applicatoins, rather than digital version of printed content\n- Computers and computing devices are more powerful  \nThese (and other) phenomena have led to a rise of web-based plotting tools' metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Matplotlib', 'Header 3': 'Static vs. Interactive'}page_content='Web based plotting libraries are written in another programming language: javascript  \nJavascript is the language of the internet and what powers the vast majority of online applications  \nJavascript based plots have a few distinct advantages over static plots (like those produced by matplotlib):  \n- Interactivity: zoom, pan, toggle, rotate, tooltips, etc.\n- Responsive: (can) look great on devices of all sizes\n- Sharable: embed on a website, in social media post, mobile application' metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Web based plotting'}page_content="One of the original and most powerful visualization libraries for javascript is `d3`  \n`d3` stands for **d**ata **d**riven **d**ocuments  \nFrom the `d3` [homepage](https://d3js.org/)  \n> D3.js is a JavaScript library for manipulating documents based on data. D3 helps you bring data to life using HTML, SVG, and CSS. D3â€™s emphasis on web standards gives you the full capabilities of modern browsers without tying yourself to a proprietary framework, combining powerful visualization components and a data-driven approach to DOM manipulation.  \nWith `d3` you can create just about any visualization  \nLet's see some [examples](https://observablehq.com/@d3/gallery)  \n- [Candlestick Chart](https://observablehq.com/@d3/candlestick-chart)\n- [Line Charts](https://observablehq.com/@mbostock/inequality-in-american-cities)\n- [Heatmaps](https://observablehq.com/@mbostock/electric-usage-2019)\n- [Calandar Views](https://observablehq.com/@d3/calendar-view)\n- [Arc Diagram](https://observablehq.com/@d3/arc-diagram)\n- [Hexbin Map](https://observablehq.com/@d3/hexbin-map)\n- [Bar Charts](https://observablehq.com/@d3/bar-chart-race)\n- [Map (Choropleth)](https://observablehq.com/@d3/world-choropleth)\n- [Map (custom)](https://observablehq.com/@d3/spike-map?collection=@d3/d3-geo)  \nThis power comes at a cost...  \nd3 by itself is rather low-level, meaning you write more code than you would with a higher level package  \nFor this reason, many libraries have been created that build on `d3` to make things easier for the user  \nTwo of these are Vega and plotly  \nBoth Vega and plotly have corresponding Python packages, but we'll first talk about the native javascript version to understand their unique features" metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Web based plotting', 'Header 3': '`d3`'}page_content="Vega is a research product out of the University of Washington's Interactive Data Lab (UW IDL)  \nFrom the [Vega homepage](https://vega.github.io/vega/)  \n> Vega is a visualization grammar, a declarative language for creating, saving, and sharing interactive visualization designs. With Vega, you can describe the visual appearance and interactive behavior of a visualization in a JSON format, and generate web-based views using Canvas or SVG.\n>\n> Vega provides basic building blocks for a wide variety of visualization designs: data loading and transformation, scales, map projections, axes, legends, and graphical marks such as rectangles, lines, plotting symbols, etc. Interaction techniques can be specified using reactive signals that dynamically modify a visualization in response to input event streams." metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Vega and Vega-Lite'}page_content='The main goal of the Vega team is to provide a *grammar* for specifying visualizations  \nThis grammar is used to build a specification of a chart  \nThe specification is then applied to a dataset to generate a visualization  \nWith Vega rather complicated charts can be created from a set of primitives  \nThis is similar to how written or spoken language can be constructed from a core set of concepts: noun, adjective, verb, punctuation, etc.' metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Vega and Vega-Lite', 'Header 3': 'A Visualization Grammar'}page_content='The Vega grammar seeks to be very flexible, and as such can also be thought of as low level  \nTo make things even easier for the user, the UW IDL team created a second grammar called Vega Lite' metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Vega and Vega-Lite', 'Header 3': 'Vega-Lite'}page_content='The following bar chart was created with Vega Lite  \n![horizontal stacked bar](https://phbs-css.s3-ap-southeast-1.amazonaws.com/vega_lite_horizontal_stacked_bar.png)  \nThe *specification* for this chart is:  \n```json\n{\n"$schema": "https://vega.github.io/schema/vega-lite/v4.json",\n"data": {"url": "data/barley.json"},\n"mark": "bar",\n"encoding": {\n"x": {"aggregate": "sum", "field": "yield"},\n"y": {"field": "variety"},\n"color": {"field": "site"}\n}\n}\n```  \nNotice we didn\'t specify *how* or *when* to add chart elements, only what the end result should look like...' metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Vega and Vega-Lite', 'Header 3': 'Vega-Lite', 'Header 4': 'Example'}page_content='The Vega team notes that their library is *declarative*  \nThis is a programming paradigm where the user specifies *what* should be done, but not *how* or *when*  \nThe paradigm we are used to working with is called *imperative*  \nWith *imperative* programming we provide the computer a sequence of tasks to perform, we are building up our product one instruction at a time' metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Vega and Vega-Lite', 'Header 3': 'Declarative vs Imperative'}page_content='As a non-programming example, consider the task of pouring a bowl of cold cereal with milk  \nA declarative way of specifying the end result might be:  \n```json\n{\n"bowl": {\n"containing": [\n"cereal",\n"milk",\n"spoon"\n]\n}\n}\n```  \nAn imperative set of instructions for achieving the end result might be:  \n```json\n[\n"Get bowl from cupboard",\n"Get cereal from pantry",\n"Pour cereal into bowl",\n"Get milk from fridge",\n"Pour milk into bowl",\n"Get spoon from drawer",\n"Put spoon in bowl",\n]\n```  \nNotice that we had to list out *what* we wanted as well as *how* and *when* to do things  \nWe\'ll see more examples of this later on today...' metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Vega and Vega-Lite', 'Header 3': 'Declarative vs Imperative', 'Header 4': 'Example'}page_content='Plotly is another javascript based plotting library that builds on d3  \nFrom their [plotly.js homepage](https://plotly.com/javascript/):  \n> Built on top of d3.js and stack.gl, Plotly.js is a high-level, declarative charting library. plotly.js ships with over 40 chart types, including 3D charts, statistical graphs, and SVG maps.  \nPlotly has a diverse set of chart types such as basic charts, statistical charts, finance charts, scientific charts, maps, 3d charts, and more' metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Plotly'}page_content='Plotly is declarative like Vega-Lite, but does not attempt to create a grammar for visualizations  \nInstead, plotly charts are created by directly setting features or attributes of the chart  \nPlotly will feel more familiar than Vega for users of matplotlib or other imperative plotting libraries' metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Plotly', 'Header 3': 'Plotly Features'}page_content="See the [example candlestick chart](https://plotly.com/javascript/candlestick-charts/#candlestick-chart-without-rangeslider) in the plotly documentation  \nThe (javascript) code below shows how to create this chart:  \n```js\nPlotly.d3.csv('https://raw.githubusercontent.com/plotly/datasets/master/finance-charts-apple.csv', function(err, rows){  \nfunction unpack(rows, key) {\nreturn rows.map(function(row) {\nreturn row[key];\n});\n}  \nvar trace = {\nx: unpack(rows, 'Date'),\nclose: unpack(rows, 'AAPL.Close'),\nhigh: unpack(rows, 'AAPL.High'),\nlow: unpack(rows, 'AAPL.Low'),\nopen: unpack(rows, 'AAPL.Open'),  \n// cutomise colors\nincreasing: {line: {color: 'black'}},\ndecreasing: {line: {color: 'red'}},  \ntype: 'candlestick',\nxaxis: 'x',\nyaxis: 'y'\n};  \nvar data = [trace];  \nvar layout = {\ndragmode: 'zoom',\nshowlegend: false,\nxaxis: {\nrangeslider: {\nvisible: false\n}\n}\n};  \nPlotly.newPlot('myDiv', data, layout);\n});\n```" metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Plotly', 'Header 3': 'Example'}page_content='As shown above, both Vega and Plotly are based on javascript  \nFor both Vega and Plotly, there are Python packages that allow you to write Python code and leverage the javascript libraries for rendering the plots  \nIn this way we can have the best of both worlds: we keep our Python tools and packages, but get the modern interactivity from web-based visualization libraries  \n```python  \n```  \n```python  \n```  \n```python  \n```  \n```python  \n```  \n```python  \n```  \n```python  \n```  \n```python  \n```  \n```python  \n```' metadata={'Header 1': 'Plotting Libraries', 'Header 2': 'Web in Python'}